{% load static %}
<!doctype html>
<html lang="en">
<head>
    <title>{% block title %}{% endblock %} | cozy</title>
    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link rel="icon" type="image/png" href="{% static 'img/favicon-golden.png' %}">

    <!-- Bootstrap CSS v5.2.1 -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous"
    />
    <!-- Bootstrap icons  CSS v1.8.0 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body>
<header>
    <nav class="navbar bg-body-tertiary fixed-top mb-5 py-2">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'home' %}">
                <img src="{% static 'img/logo-golden.png' %}" style="height: 30px;" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                    aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <i class="bi bi-person-circle text-secondary fs-2"></i>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
                 aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    {% if user.is_authenticated %}
                        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
                            Hello <span style="color:#E6B17E">{{ user.username }}</span>
                        </h5>
                    {% else %}
                        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
                            Welcome to Charta!
                        </h5>
                    {% endif %}
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        {% if user.is_authenticated %}
                            <li class="list-group-item">
                                {% if user.is_host %}
                                    <a class="nav-link" href="{% url 'hosting' %}">Switch to Hosting</a>
                                {% else %}
                                    <a class="nav-link" href="{% url 'hosting' %}">List Your Home</a>
                                {% endif %}
                            </li>
                            <li class="list-group-item">
                                <a href="{% url 'saved' %}" class="nav-link border-0">
                                    <i class="bi bi-bookmark-fill text-secondary fw-bold"></i> Saved
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" class="nav-link border-0">Your Account</a>
                            </li>
                            <li class="list-group-item">
                                <a href="{% url 'profile' user.username %}" class="nav-link border-0">Public Profile</a>
                            </li>
                            <li class="list-group-item">
                                <form action="{% url 'logout' %}" method="post">
                                    {% csrf_token %}
                                    <button class="btn nav-link border-0 text-start" type="submit">Log Out</button>
                                </form>
                            </li>
                        {% else %}
                            <li class="list-group-item">
                                <a href="{% url 'login' %}" class="nav-link border-0">Log In</a>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </nav>


</header>

<main class="pt-3 mt-5">
    {% block content %}{% endblock %}
</main>
<footer>
    <!-- place footer here -->
</footer>
<!-- Bootstrap JavaScript Libraries -->
<script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"
></script>

<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"
></script>
</body>
</html>
